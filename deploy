
#!/usr/bin/env bash
# ========================================
# ğŸš€ Script Universal de Deploy â€” Synapse B2B
# Funciona em Bash (Linux/Mac/WSL) e PowerShell (Windows)
# ========================================

# --- Bash (Linux/Mac/WSL) ---
if [ "$(uname 2>/dev/null)" = "Linux" ] || [ "$(uname 2>/dev/null)" = "Darwin" ] || [ "$(uname -o 2>/dev/null)" = "Msys" ]; then
  echo "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (Bash)..."
  wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true
  if [ $? -eq 0 ]; then
    echo "âœ… Deploy concluÃ­do com sucesso!"
    echo "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev"
  else
    echo "âŒ Erro no deploy. Verifique o log acima."
  fi
  exit 0
fi

# Everything below here is ignored in Bash
: <<'POWERSHELL'
# --- PowerShell (Windows) ---
POWERSHELL

Write-Host "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (PowerShell)..." -ForegroundColor Cyan
wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true

if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ… Deploy concluÃ­do com sucesso!" -ForegroundColor Green
    Write-Host "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev" -ForegroundColor Yellow
} else {
    Write-Host "âŒ Erro no deploy. Verifique o log acima." -ForegroundColor Red
}
Pause

[200~EOF
~
cat > deploy <<'EOF'

#!/usr/bin/env bash
# ========================================
# ğŸš€ Script Universal de Deploy â€” Synapse B2B
# Funciona em Bash (Linux/Mac/WSL) e PowerShell (Windows)
# ========================================

# --- Bash (Linux/Mac/WSL) ---
if [ "$(uname 2>/dev/null)" = "Linux" ] || [ "$(uname 2>/dev/null)" = "Darwin" ] || [ "$(uname -o 2>/dev/null)" = "Msys" ]; then
  echo "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (Bash)..."
  wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true
  if [ $? -eq 0 ]; then
    echo "âœ… Deploy concluÃ­do com sucesso!"
    echo "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev"
  else
    echo "âŒ Erro no deploy. Verifique o log acima."
  fi
  exit 0
fi

# Everything below here is ignored in Bash
: <<'POWERSHELL'
# --- PowerShell (Windows) ---
POWERSHELL

Write-Host "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (PowerShell)..." -ForegroundColor Cyan
wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true

if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ… Deploy concluÃ­do com sucesso!" -ForegroundColor Green
    Write-Host "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev" -ForegroundColor Yellow
} else {
    Write-Host "âŒ Erro no deploy. Verifique o log acima." -ForegroundColor Red
}
Pause

[200~EOF
~
chmod +x deploy

rm deploy
cat > deploy <<'EOF'
#!/usr/bin/env bash
# ========================================
# ğŸš€ Script Universal de Deploy â€” Synapse B2B
# Funciona em Bash (Linux/Mac/WSL) e PowerShell (Windows)
# ========================================

# --- Bash (Linux/Mac/WSL) ---
if [ "$(uname 2>/dev/null)" = "Linux" ] || [ "$(uname 2>/dev/null)" = "Darwin" ] || [ "$(uname -o 2>/dev/null)" = "Msys" ]; then
  echo "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (Bash)..."
  wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true
  if [ $? -eq 0 ]; then
    echo "âœ… Deploy concluÃ­do com sucesso!"
    echo "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev"
  else
    echo "âŒ Erro no deploy. Verifique o log acima."
  fi
  exit 0
fi

# Everything below here is ignored in Bash
: <<'POWERSHELL'
# --- PowerShell (Windows) ---
POWERSHELL

Write-Host "ğŸ”„ Iniciando deploy do Framework PadrÃ£o Synapse B2B (PowerShell)..." -ForegroundColor Cyan
wrangler pages deploy public --project-name=framework-padrao-synapse-b2b --commit-dirty=true

if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ… Deploy concluÃ­do com sucesso!" -ForegroundColor Green
    Write-Host "ğŸŒ Verifique em: https://framework-padrao-synapse-b2b.pages.dev" -ForegroundColor Yellow
} else {
    Write-Host "âŒ Erro no deploy. Verifique o log acima." -ForegroundColor Red
}
Pause
